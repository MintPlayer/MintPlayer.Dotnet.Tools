<Project>
	<PropertyGroup Condition="'$(IsTestProject)' != 'true'">
		<EnforceCodeStyleInBuild>true</EnforceCodeStyleInBuild>
	</PropertyGroup>

	<!--Exclude tmp-build from input items-->
	<ItemGroup>
		<Compile Remove="$(MSBuildProjectDirectory)/tmp-build/**" />
		<Content Remove="$(MSBuildProjectDirectory)/tmp-build/**" />
		<EmbeddedResource Remove="$(MSBuildProjectDirectory)/tmp-build/**" />
		<None Remove="$(MSBuildProjectDirectory)/tmp-build/**" />
		
		<Compile Remove="$(MSBuildProjectDirectory)/obj/**" />
		<Content Remove="$(MSBuildProjectDirectory)/obj/**" />
		<EmbeddedResource Remove="$(MSBuildProjectDirectory)/obj/**" />
		<None Remove="$(MSBuildProjectDirectory)/obj/**" />
	</ItemGroup>

	<ItemGroup>
		<Compile Update="**/*.*.cs">
			<DependentUpon>$([System.Text.RegularExpressions.Regex]::Replace('%(Filename)', '(?:.(?![.]))+$', '%(Extension)'))</DependentUpon>
		</Compile>
		<Content Update="**/*.*.json">
			<DependentUpon>$([System.Text.RegularExpressions.Regex]::Replace('%(Filename)', '(?:.(?![.]))+$', '%(Extension)'))</DependentUpon>
		</Content>
		<None Update="**/*.*.json">
			<DependentUpon>$([System.Text.RegularExpressions.Regex]::Replace('%(Filename)', '(?:.(?![.]))+$', '%(Extension)'))</DependentUpon>
		</None>
		<AdditionalFiles Include="**/model-hashes.json">
			<DependentUpon>model.json</DependentUpon>
		</AdditionalFiles>
	</ItemGroup>
</Project>
